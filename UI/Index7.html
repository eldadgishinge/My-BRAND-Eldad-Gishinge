<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Description of your webpage" />
    <meta name="keywords" content="keywords, separated, by, commas" />
    <meta name="author" content="Your Name" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Eldad Gishinge</title>
  <link rel="icon" href="image/eldad.JPG" type="image" />


    <!-- External CSS -->
    <link rel="stylesheet" href="style.css" />



  </head>

  <body>
    <header>
      <div class="navbar">
        <ul class="main_buttons">
          <li>
            <b><a href="index.html">Home</a></b>
          </li>
          <li>
            <b><a href="Index2.html">About me</a></b>
          </li>
          <li>
            <b><a href="Index3.html">Portfolio</a></b>
          </li>
          <li>
            <b><a href="Index4.html">Blog</a></b>
          </li>
          <li>
            <b><a href="Index7.html">Contact Me</a></b>
          </li>
          <li id="sign-in">
            <b><a href="index.html">Log out</a></b>
          </li>
        </ul>

        <div class="toggle_btn"><i class="fa-solid fa-bars"></i></div>

        </div>
        <div class="dropdown_menu"><li>

            <b><a href="index.html">Home</a></b>
          </li>
          <li>
            <b><a href="Index2.html">About me</a></b>
          </li>
          <li>
            <b><a href="Index3.html">Portfolio</a></b>
          </li>
          <li>
            <b><a href="Index4.html">Blog</a></b>
          </li>
          <li>
            <b><a href="Index7.html">Contact Me</a></b>
          </li>
          <li id="sign-in">
            <b><a href="index.html">Log out</a></b>
          </li></div>
      </nav>

    </header>
    <main>
      <div class="contat-me-all">
        <div class="first-div">
          <h1 style="color: white"><u>Contact us</u></h1>
          <form action="https://formsubmit.co/e.gishinge@alustudent.com" method="POST" class="contact-form">
            <div class="form-group">
              <label for="name">Name:</label>
              <input type="text" id="name" name="name"  />
              <div id="error_name" style="color: red; font-size:small; font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;"></div>

            </div>
            <div class="form-group">
              <label for="email">Email:</label>
              <input type="email" id="email" name="email"  />
              <div id="error_mail" style="color: red; font-size:small; font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;"></div>

            </div>
            <div class="form-group">
              <label for="message">Message:</label>
              <textarea
                id="message"
                name="message"
                rows="4"
                cols="50"

              ></textarea>
              <div id="error_message" style="color: red; font-size:small; font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;"></div>

            </div>
            <input
              class="submit-btn"
              type="submit"
              value="Submit"
              id="submit2"
            />
          </form>
        </div>
        <div class="second-div">
          <p style="color: white"><i>We're eager to hear your feedback</i></p>
          <img
            src="image/Man chatting remotely with female colleague.png"
            alt="image"
          />
        </div>
      </div>
    </main>
    <footer>
      <div class="seco_media">
        <ul>
          <li>
            <a href="https://www.linkedin.com/in/eldad-gishinge-9b805724a/"><img src="image/LinkedIn.png" alt="link" /></a>
          </li>
          <li>
            <a href="https://github.com/eldadgishinge"><img src="image/GitHub.png" alt="" /></a>
          </li>
          <li>
            <a href="https://www.instagram.com/eldad_gishinge/"
              ><img src="image/Instagram Circle.png" alt=""
            /></a>
          </li>
          <li>
            <a href="#"
              ><img src="image/Email.png" id="pic-mail" alt=""
            /></a>
          </li>
          <li>
            <a href="https://x.com/gishingee?s=21"><img src="image/TwitterX.png" alt="" /></a>
          </li>
        </ul>
      </div>
    </footer>
      <script>

   const toggle_Btn = document.querySelector('.toggle_btn')
const toggle_BtnIcon = document.querySelector('.toggle_btn i')
const dropdown_menu = document.querySelector('.dropdown_menu')

toggle_Btn.onclick = function () {
    dropdown_menu.classList.toggle('open')
    const isOpen = dropdown_menu.classList.contains('open')
    toggle_BtnIcon.className = isOpen ? 'fa-solid fa-xmark' : 'fa-solid fa-bars';
}

function myfunc(event) {
    event.preventDefault();

    var person_name = document.getElementById("name").value;
    var email = document.getElementById("email").value;
    var message = document.getElementById("message").value;

    localStorage.setItem('ls_full_name', person_name);
    localStorage.setItem('ls_email', email);
    localStorage.setItem('ls_message', message);

    // After storing data in local storage, submit the form
    document.querySelector(".contact-form").submit();
}

document.querySelector(".contact-form").addEventListener("submit", function (e) {
    // Prevent form submission
    e.preventDefault();

    let name = document.getElementById("name").value;
    let email = document.getElementById("email").value;
    let message = document.getElementById("message").value;
    let error_name = document.getElementById("error_name");
    let error_mail = document.getElementById("error_mail");
    let error_message = document.getElementById("error_message");

    let message_name = [];
    let message_mail = [];
    let message_message = [];

    if (name === "" || name == null) {
        message_name.push("Name is required");
        error_name.innerHTML = message_name.join('<br>');
    } else {
        error_name.innerHTML = ""; // Clear error messages
    }

    if (email === "" || email == null || !email.includes('@') || !email.includes('.')) {
        message_mail.push("Please provide a valid email address");
        error_mail.innerHTML = message_mail.join('<br>');
    } else {
        error_mail.innerHTML = ""; // Clear error messages
    }

    if (message === "" || message == null) {
        message_message.push("Message is required");
        error_message.innerHTML = message_message.join('<br>');
    } else {
        error_message.innerHTML = ""; // Clear error messages
    }

    // If there are no errors, you can submit the form
    if (message_name.length === 0 && message_mail.length === 0 && message_message.length === 0) {
        myfunc(e); // Store data in local storage
        // You can choose to submit the form here
        // document.querySelector(".contact-form").submit();
    }
});

    </script>
  </body>
</html>
