<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Description of your webpage" />
    <meta name="keywords" content="keywords, separated, by, commas" />
    <meta name="author" content="Your Name" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Eldad Gishinge</title>
  <link rel="icon" href="image/eldad.JPG" type="image" />
    <script src="script.js"></script>

    <!-- External CSS -->
    <link rel="stylesheet" href="/style.css" />

  </head>

  <body>
    <header>
      <div class="navbar">
        <ul class="main_buttons">
          <li>
            <b><a href="#">Home</a></b>
          </li>
          <li>
            <b><a href="#">About me</a></b>
          </li>
          <li>
            <b><a href="#">Portfolio</a></b>
          </li>
          <li>
            <b><a href="#">Blog</a></b>
          </li>
          <li>
            <b><a href="#">Contact Me</a></b>
          </li>
          <li id="sign-in">
            <b><a href="#">Sign up/sign in</a></b>
          </li>
        </ul>

        <div class="toggle_btn"><i class="fa-solid fa-bars"></i></div>

        </div>
        <div class="dropdown_menu"><li>

            <b><a href="index.html">Home</a></b>
          </li>
          <li>
            <b><a href="Index2.html">About me</a></b>
          </li>
          <li>
            <b><a href="Index3.html">Portfolio</a></b>
          </li>
          <li>
            <b><a href="Index4.html">Blog</a></b>
          </li>
          <li>
            <b><a href="Index7.html">Contact Me</a></b>
          </li>
          <li id="sign-in">
            <b><a href="Index8.html">Sign up/sign in</a></b>
          </li></div>
      </nav>

    </header>
    <main>
      <div class="main-sign">
        <div class="sign-in-div">
          <h1>Sign in</h1>
          <!-- <div id="error"></div> -->
          <form action="index" id= "form"  method="GET">
            <label for="name">Name:</label>
            <input
              type="text"
              id="name"
              name="name"
              placeholder="Enter your name"

            /><div id="error1" style="color: red; font-size:small;"></div>

            <label for="password">Password:</label>
            <input
              type="password"
              id="password"
              name="password"
              placeholder="Enter your password"
            /><div id="error" style="color: red; font-size:small;"></div>

            <button type="submit" >Sign in</button>

            <div class="g-sign-in">
              <button id="google-login-btn">
                <img src="image/google.png" alt="Google logo" />
                <p style="color: white">SIGN IN WITH GOOGLE</p>
              </button>
            </div>
            <div class="sign-add">
              <ul class="acc">
                <li>
                  <a href="/create_user">Create an accout</a>
                </li>
                <!-- <li>
                  <a href="createdemo.html">Admin</a>
                </li> -->
              </ul>
            </div>
          </form>
        </div>
      </div>
    </main>

     <script>

      const toggle_Btn = document.querySelector('.toggle_btn')
      const toggle_BtnIcon = document.querySelector('.toggle_btn i')
      const dropdown_menu = document.querySelector('.dropdown_menu')


      toggle_Btn.onclick =function(){
        dropdown_menu.classList.toggle('open')
        const isOpen = dropdown_menu.classList.contains('open')
        toggle_BtnIcon.className = isOpen ? 'fas fa-xmark' : 'fas fa-bars';
      }



const name = document.getElementById("name");
const password = document.getElementById("password");
const form = document.getElementById("form");
const errorElement = document.getElementById("error");
const error1Element = document.getElementById("error1");

form.addEventListener("submit", (e) => {
  e.preventDefault(); // Prevent form submission for now

  let messages = [];
  let message1 = [];

  if (name.value === "" || name.value == null) {
    message1.push("Name is required");
    error1Element.innerHTML = message1;
  }

  if (password.value.length <= 6) {
    messages.push("Password must be longer than 6 characters");
  }

  if (password.value.length >= 20) {
    messages.push("Password must be less than 20 characters");
  }

  if (password.value === "password") {
    messages.push("Password cannot be 'password'");
  }

  if (messages.length > 0 || message1.length > 0) {
    errorElement.innerText = messages.join(", ");
    error1Element.innerText = message1.join(", ");
  } else {
    // Check if the entered name is "Admin" and redirect accordingly
    if (name.value === "Admin") {
      window.location.href = "createdemo.html";
    } else {
      window.location.href = "index1.html";
    }

    // Store the name and password in localStorage after redirection
    localStorage.setItem("username", name.value);
    localStorage.setItem("password", password.value);
  }
});



    </script>
  </body>
</html>
